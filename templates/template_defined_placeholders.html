<!DOCTYPE HTML>
<html lang="en" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Template Defined Placeholders - Cargo Generate Documentation</title>


        <!-- Custom HTML head -->

        <meta name="description" content="cargo, make me a project">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="highlight-css" href="../highlight.css">
        <link rel="stylesheet" id="tomorrow-night-css" href="../tomorrow-night.css">
        <link rel="stylesheet" id="ayu-highlight-css" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->


        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "../";
            const default_light_theme = "light";
            const default_dark_theme = "navy";
            window.path_to_searchindex_js = "../searchindex.js";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="../toc.js"></script>
    </head>
    <body>
    <div id="mdbook-help-container">
        <div id="mdbook-help-popup">
            <h2 class="mdbook-help-title">Keyboard shortcuts</h2>
            <div>
                <p>Press <kbd>←</kbd> or <kbd>→</kbd> to navigate between chapters</p>
                <p>Press <kbd>S</kbd> or <kbd>/</kbd> to search in the book</p>
                <p>Press <kbd>?</kbd> to show this help</p>
                <p>Press <kbd>Esc</kbd> to hide this help</p>
            </div>
        </div>
    </div>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
                sidebar_toggle.checked = false;
            }
            if (sidebar === 'visible') {
                sidebar_toggle.checked = true;
            } else {
                html.classList.remove('sidebar-visible');
            }
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="../toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search (`/`)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="/ s" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Cargo Generate Documentation</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/cargo-generate/cargo-generate/tree/main/guide" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                        <a href="https://github.com/cargo-generate/cargo-generate/edit/main/guide/src/templates/template_defined_placeholders.md" title="Suggest an edit" aria-label="Suggest an edit" rel="edit">
                            <i id="git-edit-button" class="fa fa-edit"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <div class="search-wrapper">
                            <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                            <div class="spinner-wrapper">
                                <i class="fa fa-spinner fa-spin"></i>
                            </div>
                        </div>
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="template-defined-placeholders"><a class="header" href="#template-defined-placeholders">Template Defined Placeholders</a></h1>
<p>Template defined placeholders offer a powerful way for template authors to customize project templates and streamline project creation. In addition to defining placeholders directly within template files, users can also define placeholders in the <code>cargo-generate.toml</code> file, providing additional flexibility and customization options.</p>
<h2 id="defining-placeholders-in-cargo-generatetoml"><a class="header" href="#defining-placeholders-in-cargo-generatetoml">Defining Placeholders in <code>cargo-generate.toml</code></a></h2>
<p>To define placeholders in the <code>cargo-generate.toml</code> file, template authors can specify them under the <code>placeholders</code> section using the following syntax:</p>
<pre><code class="language-toml">[placeholders]
placeholder_name = { prompt = "Enter your name", choices = ["Alice", "Bob"], default = "Alice", type = "string" }
</code></pre>
<ul>
<li><code>placeholder_name</code>: The name of the placeholder.</li>
<li><code>prompt</code>: The prompt message displayed to the user during project creation.</li>
<li><code>choices</code> (optional): A list of predefined choices for the placeholder value.</li>
<li><code>default</code> (optional): The default value for the placeholder if no user input is provided.</li>
<li><code>regex</code> (optional and only for string-like types): The entered value is validated against this regex.</li>
<li><code>type</code>: The data type of the placeholder value (see <a href="#supported-types">Supported Types</a>).</li>
</ul>
<h2 id="prompt-choices-and-default-values"><a class="header" href="#prompt-choices-and-default-values">Prompt, Choices, and Default Values</a></h2>
<ul>
<li><strong>Prompt</strong>: With the <code>prompt</code> will be displayed it to the user during project creation, prompting them to provide a value for the placeholder.</li>
<li><strong>Choices</strong>: If <code>choices</code> are specified, <code>cargo-generate</code> will present them as options to the user, restricting the input to the predefined choices and provide more convenience.</li>
<li><strong>Default Value</strong>: If a <code>default</code> value is provided and the user does not provide input, <code>cargo-generate</code> will use the default value for the placeholder.</li>
</ul>
<h2 id="supported-types"><a class="header" href="#supported-types">Supported Types</a></h2>
<p><code>cargo-generate</code> supports the following placeholder value types:</p>
<ul>
<li><code>"string"</code>: Represents a string value.</li>
<li><code>"text"</code>: Represents a multiline string value. (terminated by hitting CTRL-D)</li>
<li><code>"editor"</code>: Represents a multiline string value, collected from the user by a real terminal editor.</li>
<li><code>"bool"</code>: Represents a boolean value (<code>true</code> or <code>false</code>).</li>
</ul>
<blockquote>
<p>Available since version <a href="https://github.com/cargo-generate/cargo-generate/releases/tag/v0.23.0">0.23.0</a></p>
</blockquote>
<ul>
<li><code>"array"</code>: Represents an array of strings (<code>["a","b","c"]</code>)</li>
</ul>
<h2 id="example"><a class="header" href="#example">Example</a></h2>
<p>Consider the following <code>cargo-generate.toml</code> file:</p>
<pre><code class="language-toml">[placeholders]
project_name = { prompt = "Enter project name", default = "my_project", type = "string" }
environment = { prompt = "Which environment?", choices = ["dev", "prod"], default = "dev", type = "string"}
features = { prompt = "Include features?", choices = ["serde", "logging"], default = ["serde"], type = "array"}
use_git = { prompt = "Initialize Git repository?", default = true, type = "bool" }
phone_number = { prompt = "What's your phone number?", type = "string", regex = "^[0-9]+$" }
</code></pre>
<p>During project creation, <code>cargo-generate</code> will prompt the user to provide values for <code>project_name</code>, <code>use_git</code> and <code>phone_number</code> using the specified prompts, choices, and default values.</p>
<p>Further <code>phone_number</code> is validated against the provided regex, hence it can only contain digits.</p>
<h3 id="conclusion"><a class="header" href="#conclusion">Conclusion</a></h3>
<p>Template defined placeholders, defined in the <code>cargo-generate.toml</code> configuration file, offer powerful customization options for project templates. By specifying prompts, choices, default values, and supported types, template authors can create intuitive and flexible project scaffolding experiences, enhancing developer productivity and project consistency.</p>
<h2 id="default-values-for-placeholders"><a class="header" href="#default-values-for-placeholders">Default values for placeholders</a></h2>
<p>For automation purposes the user of the template may provide the values for the keys in the template using one or more of the following methods.</p>
<p>The methods are listed by falling priority.</p>
<h3 id="--define-or--d-flag"><a class="header" href="#--define-or--d-flag"><code>--define</code> or <code>-d</code> flag</a></h3>
<p>The user may specify variables individually using the <code>--define</code> flag.</p>
<pre><code class="language-sh">cargo generate template-above -n project-name -d hypervisor=qemu -d network_enabled=true
</code></pre>
<h3 id="--template_values_file-flag"><a class="header" href="#--template_values_file-flag"><code>--template_values_file</code> flag</a></h3>
<p>The user of the template may provide a file containing the values for the keys in the template by using the <code>--template-values-file</code> flag.</p>
<blockquote>
<p>⚠️ NOTE: A relative path will be relative to current working dir, which is <em>not</em> inside the expanding template!</p>
</blockquote>
<pre><code class="language-toml">[values]
hypervisor = "qemu"
network_enabled = true
</code></pre>
<h4 id="individual-values-via-environment-variables"><a class="header" href="#individual-values-via-environment-variables">Individual values via environment variables</a></h4>
<p>Variables may be specified using environment variables. To do so, set the env var <code>CARGO_GENERATE_VALUE_&lt;variable key&gt;</code> to the desired value.</p>
<pre><code class="language-sh">set CARGO_GENERATE_VALUE_HYPERVISOR=qemu
set CARGO_GENERATE_VALUE_NETWORK_ENABLED=true
cargo generate template-above
</code></pre>
<blockquote>
<p>⚠️ Windows does not support mixed case environment variables. Internally, <code>cargo-generate</code> will ensure the variable name is all lowercase. For that reason, it is strongly recommended that template authors only use lowercase variable/placeholder names.</p>
</blockquote>
<h4 id="template-values-file-via-environment-variable"><a class="header" href="#template-values-file-via-environment-variable">Template values file via environment variable</a></h4>
<p>The user may use the environment variable <code>CARGO_GENERATE_TEMPLATE_VALUES</code> to specify a file with default values.</p>
<p>For the file format, see above.</p>
<h4 id="default-values"><a class="header" href="#default-values">Default values</a></h4>
<p>Default values may be specified in the config file (specified with the <code>--config</code> flag, or in the default config file <code>$CARGO_HOME/cargo-generate</code>)</p>
<p><strong>Example config file:</strong></p>
<pre><code class="language-toml">[values]
placeholder1 = "default value"

[favorites.my_favorite]
git = "https://github.com/username-on-github/mytemplate.git"

[favorites.my_favorite.values]
placeholder1 = "default value overriding the default"
placeholder2 = "default value for favorite"
</code></pre>
<h2 id="further-examples"><a class="header" href="#further-examples">Further examples</a></h2>
<p>You can find further examples in the <a href="/example-templates/">example-templates folder</a> that provide some template provided placeholders.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../templates/builtin_placeholders.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../templates/ignoring.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../templates/builtin_placeholders.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../templates/ignoring.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr.min.js"></script>
        <script src="../mark.min.js"></script>
        <script src="../searcher.js"></script>

        <script src="../clipboard.min.js"></script>
        <script src="../highlight.js"></script>
        <script src="../book.js"></script>

        <!-- Custom JS scripts -->



    </div>
    </body>
</html>
